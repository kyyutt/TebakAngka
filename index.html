<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Tebak Angka</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 flex items-center justify-center min-h-screen">
    <div class="w-full max-w-md mx-auto bg-white dark:bg-gray-800 shadow-lg rounded-2xl p-6 md:p-8 text-center">
        
        <h1 class="text-3xl font-bold text-gray-800 dark:text-white mb-2">Game Tebak Angka</h1>
        <p class="text-gray-600 dark:text-gray-300 mb-6">Saya telah memilih sebuah angka antara 1 dan 100. Bisakah Anda menebaknya?</p>

        <div class="mb-4">
            <input type="number" id="guessInput" class="w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 border-2 border-gray-200 dark:border-gray-600 rounded-lg text-center text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition" placeholder="Masukkan tebakan Anda..." min="1" max="100">
        </div>

        <button id="guessButton" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg text-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md">
            Tebak
        </button>

        <div id="message" class="mt-6 text-lg font-medium h-12">&nbsp;</div>
        
        <p class="text-gray-500 dark:text-gray-400 mt-2">Sisa percobaan: <span id="attempts" class="font-bold">10</span></p>

        <button id="restartButton" class="hidden mt-4 w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg text-lg transition duration-300">
            Mulai Lagi
        </button>
    </div>

    <script>
        // --- DOM Elements ---
        const guessInput = document.getElementById('guessInput');
        const guessButton = document.getElementById('guessButton');
        const restartButton = document.getElementById('restartButton');
        const message = document.getElementById('message');
        const attemptsDisplay = document.getElementById('attempts');

        // --- Game State ---
        let secretNumber;
        let attempts;
        const maxAttempts = 10;

        // --- Functions ---

        /**
         * Initializes or resets the game.
         */
        function initGame() {
            // Generate a new random number between 1 and 100
            secretNumber = Math.floor(Math.random() * 100) + 1;
            
            // Reset attempts
            attempts = maxAttempts;
            attemptsDisplay.textContent = attempts;

            // Reset UI elements
            message.textContent = '';
            message.classList.remove('text-green-500', 'text-red-500', 'text-yellow-500');
            guessInput.value = '';
            guessInput.disabled = false;
            guessButton.disabled = false;
            guessButton.classList.remove('opacity-50', 'cursor-not-allowed');
            restartButton.classList.add('hidden');
        }

        /**
         * Handles the logic for checking the user's guess.
         */
        function checkGuess() {
            const userGuess = parseInt(guessInput.value);

            // Validate the input
            if (isNaN(userGuess) || userGuess < 1 || userGuess > 100) {
                displayMessage('Masukkan angka yang valid antara 1 dan 100.', 'text-yellow-500');
                return;
            }
            
            // Decrement attempts
            attempts--;
            attemptsDisplay.textContent = attempts;
            
            // Compare the guess
            if (userGuess === secretNumber) {
                displayMessage(`ðŸŽ‰ Selamat! Anda benar! Angkanya adalah ${secretNumber}.`, 'text-green-500');
                endGame(true);
            } else if (attempts === 0) {
                displayMessage(`Maaf, kesempatan habis. Angkanya adalah ${secretNumber}.`, 'text-red-500');
                endGame(false);
            } else if (userGuess < secretNumber) {
                displayMessage('Terlalu RENDAH! Coba lagi.', 'text-blue-400');
            } else {
                displayMessage('Terlalu TINGGI! Coba lagi.', 'text-orange-400');
            }
            
            // Clear input for next guess
            guessInput.value = '';
            guessInput.focus();
        }

        /**
         * Displays a message to the user with specific styling.
         * @param {string} text - The message to display.
         * @param {string} colorClass - The Tailwind CSS class for the text color.
         */
        function displayMessage(text, colorClass) {
            message.textContent = text;
            message.className = 'mt-6 text-lg font-medium h-12 ' + colorClass; // Reset classes and add new one
        }

        /**
         * Ends the game, disabling inputs and showing the restart button.
         */
        function endGame() {
            guessInput.disabled = true;
            guessButton.disabled = true;
            guessButton.classList.add('opacity-50', 'cursor-not-allowed');
            restartButton.classList.remove('hidden');
        }

        // --- Event Listeners ---
        
        // Handle guess button click
        guessButton.addEventListener('click', checkGuess);
        
        // Handle Enter key press in the input field
        guessInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                checkGuess();
            }
        });

        // Handle restart button click
        restartButton.addEventListener('click', initGame);

        // --- Initial Game Start ---
        initGame();
    </script>
</body>
</html>
